<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <USH_BW.CombatDiseaseDef ParentName="USH_CombatDiseaseBase">
    <defName>USH_SleepingSickness</defName>
    <label>sleeping sickness</label>
    <samplableHediffDefs>
      <li>SleepingSickness</li>
    </samplableHediffDefs>
    <giveHediffDef>SleepingSickness</giveHediffDef>
    <diseaseType>Parasite</diseaseType>
    <colorInt>(22, 168, 119, 255)</colorInt>

    <!-- also sets color in graphicData -->
    <thingDefsToColor>
      <li>USH_SleepingSicknessSample</li>
      <li>USH_SleepingSicknessPathogen</li>
      <li>USH_SleepingSicknessVaccine</li>
      <li>USH_SleepingSicknessAntiserum</li>
      <li>USH_SleepingSicknessReproductionPills</li>
      <li>USH_SleepingSicknessGas</li>
      <li>USH_SleepingSicknessShell</li>
      <li>USH_SleepingSicknessBarrel</li>
      <li>USH_SleepingSicknessVent</li>
      <li>USH_SleepingSicknessMissileLauncherTurret</li>
      <li>USH_SleepingSicknessShellBullet</li>
      <li>USH_SleepingSicknessMissileBullet</li>
      <li>USH_SleepingSicknessGrenadeBullet</li>
      <li>USH_SleepingSicknessGrenadeLauncher</li>
    </thingDefsToColor>

    <thingDefsToColorIcons>
      <li>USH_SleepingSicknessMissileLauncher</li>
    </thingDefsToColorIcons>

    <thingDefsToFormat>
      <li>USH_SleepingSicknessMissileLauncher</li>
    </thingDefsToFormat>

    <researchProjectsDefsToFormat>
      <li>USH_SleepingSicknessOperationRes</li>
      <li>USH_SleepingSicknessVaccineRes</li>
    </researchProjectsDefsToFormat>

    <hediffDefsToFormat>
      <li>USH_SleepingSicknessVaccineHediff</li>
    </hediffDefsToFormat>

    <vaccineResProjectDef>USH_SleepingSicknessVaccineRes</vaccineResProjectDef>

    <!-- sample def is required for CombatDiseaseDef to work properly -->
    <sampleDef>USH_SleepingSicknessSample</sampleDef>
    <!-- pathogen def is optional -->
    <pathogenDef>USH_SleepingSicknessPathogen</pathogenDef>

  </USH_BW.CombatDiseaseDef>

  <ThingDef ParentName="USH_ParasiteSampleBase">
    <defName>USH_SleepingSicknessSample</defName>
    <label>sleeping sickness parasite sample</label>
    <description>A sample of sleeping sickness parasite. Can be used in production of special reproduction pills that will produce sleeping sickness pathogens after consumption.\n\nCan be obtained by using disease sampler on a living creature infected with sleeping sickness or crafted from sleeping sickness pathogens.</description>
    <descriptionHyperlinks>
      <ThingDef>USH_SleepingSicknessReproductionPills</ThingDef>
    </descriptionHyperlinks>
    <comps>
      <li Class="USH_BW.CompProperties_DiseaseSample">
        <combatDiseaseDef>USH_SleepingSickness</combatDiseaseDef>
      </li>
    </comps>
    <costList>
      <USH_SleepingSicknessPathogen>1</USH_SleepingSicknessPathogen>
    </costList>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_SleepingSicknessOperationRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <ThingDef ParentName="USH_ParasitePathogenBase">
    <defName>USH_SleepingSicknessPathogen</defName>
    <label>sleeping sickness parasite pathogen</label>
    <description>A sleeping sickness parasite pathogen that's a crucial ingredient in producing biological weapons. It must be kept indoors at freezing temperatures to stay fresh and usable.</description>
  </ThingDef>

  <ThingDef ParentName="USH_DiseaseVaccineBase">
    <defName>USH_SleepingSicknessVaccine</defName>
    <label>sleeping sickness vaccine</label>
    <description>A syringe containing a carefully prepared mixture of antigens. It prevents getting sick from sleeping sickness for 8 days and provides full protection from sleeping sickness pathogen gas.\n\nNote that it does not cure existing infections.</description>
    <descriptionHyperlinks>
      <HediffDef>USH_SleepingSicknessVaccineHediff</HediffDef>
    </descriptionHyperlinks>
    <ingestible>
      <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>USH_SleepingSicknessVaccineHediff</hediffDef>
          <severity>1</severity>
        </li>
      </outcomeDoers>
    </ingestible>
    <costList>
      <USH_SleepingSicknessPathogen>25</USH_SleepingSicknessPathogen>
    </costList>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_SleepingSicknessVaccineRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <HediffDef ParentName="USH_DiseaseVaccineHediffBase">
    <defName>USH_SleepingSicknessVaccineHediff</defName>
    <label>sleeping sickness immunity</label>
    <labelNoun>a sleeping sickness immunity</labelNoun>
    <description>sleeping sickness antigens in the bloodstream. Comes from sleeping sickness vaccine.</description>
    <stages>
      <li>
        <makeImmuneTo>
          <li>SleepingSickness</li>
        </makeImmuneTo>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="USH_DiseaseAntiserum">
    <defName>USH_SleepingSicknessAntiserum</defName>
    <label>sleeping sickness antiserum</label>
    <description>A highly concentrated mixture of antibodies enhanced with spacer technology that rapidly spreads through the user's bloodstream. It can be ingested, granting instant immunity to sleeping sickness. Powerful glitterworld medicine makes it highly effective and capable of killing even parasites.</description>
    <ingestible>
      <outcomeDoers>
        <li Class="USH_BW.IngestionOutcomeDoerRemoveHediffs">
          <hediffDefsToRemove>
            <li>SleepingSickness</li>
          </hediffDefsToRemove>
          <sendMessage>true</sendMessage>
        </li>
      </outcomeDoers>
    </ingestible>
    <costList>
      <USH_SleepingSicknessPathogen>25</USH_SleepingSicknessPathogen>
    </costList>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_SleepingSicknessVaccineRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <ThingDef ParentName="USH_ParasiteReproductionPills">
    <defName>USH_SleepingSicknessReproductionPills</defName>
    <label>sleeping sickness pills</label>
    <description>A drug containing sleeping sickness parasite embryos with enhanced reproduction capabilities. Whoever consumes it will turn into a living pathogen breeding machine. The host's body will continuously spew out sleeping sickness pathogens and receive internal damage in the process. If left untended, he will die and produce fewer pathogens. \n\nNote that large, tamed creatures in herds are best suited for being hosts.</description>
    <descriptionHyperlinks>
      <HediffDef>USH_SleepingSicknessReproduction</HediffDef>
    </descriptionHyperlinks>
    <costList>
      <USH_SleepingSicknessSample>1</USH_SleepingSicknessSample>
    </costList>
    <ingestible>
      <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>SleepingSickness</hediffDef>
        </li>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>USH_SleepingSicknessReproduction</hediffDef>
        </li>
      </outcomeDoers>
    </ingestible>
  </ThingDef>

  <HediffDef ParentName="USH_ParasiteReproductionBase">
    <defName>USH_SleepingSicknessReproduction</defName>
    <comps>
      <li Class="USH_BW.HediffCompProperties_ParasiteReproduction">
        <combatDiseaseDef>USH_SleepingSickness</combatDiseaseDef>
        <reproductionDurationTicks>10000</reproductionDurationTicks>
        <basePathogenCount>4</basePathogenCount>
        <multiplyByBodySize>true</multiplyByBodySize>
      </li>
    </comps>
  </HediffDef>

  <DamageDef ParentName="USH_BiologicalDamageBase">
    <defName>USH_SleepingSicknessDamage</defName>
  </DamageDef>

  <ThingDef ParentName="USH_BiologicalGasBase">
    <defName>USH_SleepingSicknessGas</defName>
    <label>sleeping sickness parasite gas</label>
    <description>A sleeping sickness pathogen gas</description>
    <modExtensions>
      <li Class="USH_BW.PathogenGasExtension">
        <HediffDef>SleepingSickness</HediffDef>
        <SeverityPerPeriod>0.07</SeverityPerPeriod>
        <PeriodTicks>60</PeriodTicks>
      </li>
    </modExtensions>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalShellBase">
    <defName>USH_SleepingSicknessShell</defName>
    <label>sleeping sickness gas shell</label>
    <description>A shell filled with sleeping sickness gas. Can be fired from mortars. Explodes when damaged infecting everyone nearby.</description>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>4.9</explosiveRadius>
        <postExplosionSpawnChance>1</postExplosionSpawnChance>
        <postExplosionSpawnThingCount>1</postExplosionSpawnThingCount>
        <explosiveDamageType>USH_SleepingSicknessDamage</explosiveDamageType>
        <postExplosionSpawnThingDef>USH_SleepingSicknessGas</postExplosionSpawnThingDef>
        <explosiveExpandPerStackcount>0.4</explosiveExpandPerStackcount>
        <startWickHitPointsPercent>0.7</startWickHitPointsPercent>
        <wickTicks>30~60</wickTicks>
      </li>
    </comps>
    <projectileWhenLoaded>USH_SleepingSicknessShellBullet</projectileWhenLoaded>
    <costList>
      <USH_SleepingSicknessPathogen>15</USH_SleepingSicknessPathogen>
    </costList>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_SleepingSicknessOperationRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalShellBulletBase">
    <defName>USH_SleepingSicknessShellBullet</defName>
    <label>sleeping sickness gas shell</label>
    <description>A sleeping sickness gas shell</description>
    <projectile>
      <damageDef>USH_SleepingSicknessDamage</damageDef>
      <postExplosionSpawnThingDef>USH_SleepingSicknessGas</postExplosionSpawnThingDef>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalBarrelBase">
    <defName>USH_SleepingSicknessBarrel</defName>
    <label>sleeping sickness gas barrel</label>
    <description>A barrel full of sleeping sickness gas. Ignites upon getting shot, which results in a massive gas explosion infecting everyone around it.</description>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>6.9</explosiveRadius>
        <postExplosionSpawnChance>1</postExplosionSpawnChance>
        <postExplosionSpawnThingCount>1</postExplosionSpawnThingCount>
        <explosiveDamageType>USH_SleepingSicknessDamage</explosiveDamageType>
        <postExplosionSpawnThingDef>USH_SleepingSicknessGas</postExplosionSpawnThingDef>
        <startWickHitPointsPercent>0.95</startWickHitPointsPercent>
        <wickTicks>30~60</wickTicks>
      </li>
    </comps>
    <costList>
      <USH_SleepingSicknessPathogen>75</USH_SleepingSicknessPathogen>
    </costList>
    <researchPrerequisites>
      <li>USH_SleepingSicknessOperationRes</li>
    </researchPrerequisites>
    <specialDisplayRadius>6.9</specialDisplayRadius>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalVentBase">
    <defName>USH_SleepingSicknessVent</defName>
    <label>sleeping sickness gas vent</label>
    <description>A wall-mounted vent capable of releasing toxic compounds of sleeping sickness gas into the targeted area. Consumes pathogens per every gas release and requires activation by a colonist.</description>
    <comps>
      <li Class="CompProperties_Refuelable">
        <fuelConsumptionRate>0</fuelConsumptionRate>
        <initialFuelPercent>1</initialFuelPercent>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <initialConfigurableTargetFuelLevel>25</initialConfigurableTargetFuelLevel>
        <fuelCapacity>50</fuelCapacity>
        <fuelFilter>
          <thingDefs>
            <li>USH_SleepingSicknessPathogen</li>
          </thingDefs>
        </fuelFilter>
      </li>
      <li Class="USH_BW.CompProperties_GasVent">
        <gasDef>USH_SleepingSicknessGas</gasDef>
        <pathogensPerCell>0.5</pathogensPerCell>
        <activeTicks>1</activeTicks>
        <ticksToActivate>60</ticksToActivate>
        <jobString>activate</jobString>
        <onCooldownString>cooling off</onCooldownString>
        <cooldownTicks>2500</cooldownTicks>
        <cooldownFleck>FlashRed</cooldownFleck>
        <cooldownFleckSpawnIntervalTicks>60</cooldownFleckSpawnIntervalTicks>
        <cooldownFleckScale>0.7</cooldownFleckScale>
        <cooldownPreventsRefuel>false</cooldownPreventsRefuel>
        <activateTexPath>UI/Gizmo/ActivateGasVent</activateTexPath>
        <soundActivate>USH_GasVentActivated</soundActivate>
        <targetingParameters>
          <canTargetBuildings>false</canTargetBuildings>
          <canTargetAnimals>false</canTargetAnimals>
          <canTargetMechs>false</canTargetMechs>
          <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
        </targetingParameters>
      </li>
    </comps>
    <costList>
      <USH_SleepingSicknessPathogen>50</USH_SleepingSicknessPathogen>
    </costList>
    <researchPrerequisites>
      <li>USH_SleepingSicknessOperationRes</li>
    </researchPrerequisites>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalMissileLauncherBase">
    <defName>USH_SleepingSicknessMissileLauncher</defName>
    <label>sleeping sickness gas missile launcher</label>
    <description>A military-grade sleeping sickness gas missile launcher that fires a single barrage of rockets covering a large area with sleeping sickness gas. The turret does not fire until someone activates it. It is very effective against sieges, but less effective against moving targets. A single burst of missiles can severely weaken any siege, potentially killing raiders.\nAn integrated targeting system makes it effective over long distances.\n\nOnce fired, it must cool off for hours and be reloaded to fire again. It's refueled with large quantities of sleeping sickness parasite pathogens.</description>
    <comps>
      <li Class="CompProperties_Explosive">
        <wickTicks>240</wickTicks>
        <explosiveRadius>6.9</explosiveRadius>
        <postExplosionSpawnChance>1</postExplosionSpawnChance>
        <postExplosionSpawnThingCount>1</postExplosionSpawnThingCount>
        <explosiveDamageType>USH_SleepingSicknessDamage</explosiveDamageType>
        <postExplosionSpawnThingDef>USH_SleepingSicknessGas</postExplosionSpawnThingDef>
        <chanceNeverExplodeFromDamage>0.8</chanceNeverExplodeFromDamage>
      </li>
      <li Class="CompProperties_Refuelable">
        <fuelLabel>Missiles</fuelLabel>
        <fuelGizmoLabel>Missiles</fuelGizmoLabel>
        <outOfFuelMessage>Missing missiles</outOfFuelMessage>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <fuelFilter>
          <thingDefs>
            <li>USH_SleepingSicknessPathogen</li>
          </thingDefs>
        </fuelFilter>
        <fuelCapacity>7</fuelCapacity>
        <fuelMultiplier>0.04667</fuelMultiplier>
        <initialFuelPercent>1</initialFuelPercent>
        <autoRefuelPercent>1</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <minimumFueledThreshold>7</minimumFueledThreshold>
        <factorByDifficulty>false</factorByDifficulty>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
      </li>
      <li Class="CompProperties_Interactable">
        <compClass>CompInteractableRocketswarmLauncher</compClass>
        <activeTicks>1</activeTicks>
        <cooldownTicks>7500</cooldownTicks>
        <ticksToActivate>60</ticksToActivate>
        <jobString>activate</jobString>
        <onCooldownString>cooling off</onCooldownString>
        <cooldownFleck>FlashRed</cooldownFleck>
        <cooldownFleckSpawnIntervalTicks>60</cooldownFleckSpawnIntervalTicks>
        <cooldownFleckScale>0.7</cooldownFleckScale>
        <cooldownPreventsRefuel>true</cooldownPreventsRefuel>
        <activateTexPath>UI/Commands/ActivateTurret</activateTexPath>
        <targetingParameters>
          <canTargetBuildings>false</canTargetBuildings>
          <canTargetAnimals>false</canTargetAnimals>
          <canTargetMechs>false</canTargetMechs>
          <onlyTargetControlledPawns>true</onlyTargetControlledPawns>
        </targetingParameters>
      </li>
    </comps>
    <building>
      <turretGunDef>USH_SleepingSicknessMissileLauncherTurret</turretGunDef>
    </building>
    <costList>
      <USH_SleepingSicknessPathogen>225</USH_SleepingSicknessPathogen>
    </costList>
    <researchPrerequisites>
      <li>USH_SleepingSicknessOperationRes</li>
    </researchPrerequisites>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalMissileLauncherTurretBase">
    <defName>USH_SleepingSicknessMissileLauncherTurret</defName>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>USH_SleepingSicknessMissileBullet</defaultProjectile>
        <range>80.9</range>
        <consumeFuelPerShot>1</consumeFuelPerShot>
        <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
        <burstShotCount>7</burstShotCount>
        <forcedMissRadius>9</forcedMissRadius>
        <forcedMissEvenDispersal>true</forcedMissEvenDispersal>
        <requireLineOfSight>false</requireLineOfSight>
        <minRange>29.9</minRange>
        <targetParams>
          <canTargetPawns>false</canTargetPawns>
          <canTargetLocations>true</canTargetLocations>
          <canTargetBuildings>false</canTargetBuildings>
        </targetParams>
        <soundCast>USH_MissileLauncherFired</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>14</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalMissileBulletBase">
    <defName>USH_SleepingSicknessMissileBullet</defName>
    <projectile>
      <damageDef>USH_SleepingSicknessDamage</damageDef>
      <postExplosionSpawnThingDef>USH_SleepingSicknessGas</postExplosionSpawnThingDef>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalGrenadeLauncherBase">
    <defName>USH_SleepingSicknessGrenadeLauncher</defName>
    <label>sleeping sickness gas grenade launcher</label>
    <description>A military-grade sleeping sickness gas grenade launcher intended for anti-infantry use.</description>
    <costList>
      <USH_SleepingSicknessPathogen>325</USH_SleepingSicknessPathogen>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>USH_SleepingSicknessGrenadeBullet</defaultProjectile>
        <warmupTime>3.5</warmupTime>
        <range>23.9</range>
        <forcedMissRadius>2.9</forcedMissRadius>
        <burstShotCount>1</burstShotCount>
        <soundCast>USH_GasLauncherShot</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>14</muzzleFlashScale>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
      </li>
    </verbs>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_SleepingSicknessOperationRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <ThingDef ParentName="USH_BiologicalGrenadeBulletBase">
    <defName>USH_SleepingSicknessGrenadeBullet</defName>
    <projectile>
      <damageDef>USH_SleepingSicknessDamage</damageDef>
      <postExplosionSpawnThingDef>USH_SleepingSicknessGas</postExplosionSpawnThingDef>
      <explosionRadius>4.9</explosionRadius>
    </projectile>
  </ThingDef>

  <ResearchProjectDef ParentName="USH_DiseaseOprationResBase">
    <defName>USH_SleepingSicknessOperationRes</defName>
    <label>sleeping sickness parasite</label>
    <description>Craft sleeping sickness parasite gas grenade launchers, explosive barrels and devastating mortar shells.</description>
    <researchViewX>1.50</researchViewX>
    <researchViewY>2.60</researchViewY>
  </ResearchProjectDef>

  <ResearchProjectDef ParentName="USH_DiseaseVaccineResBase">
    <defName>USH_SleepingSicknessVaccineRes</defName>
    <label>sleeping sickness antibodies</label>
    <description>Craft sleeping sickness vaccines and antiserums that can heal and protect from getting infected. This research project must be studied using vaccine reseach station with an inserted sleeping sickness parasite sample.\n\nThis project in always locked in research tab.</description>
    <prerequisites>
      <li>USH_SleepingSicknessOperationRes</li>
    </prerequisites>
    <researchViewX>2.50</researchViewX>
    <researchViewY>2.60</researchViewY>
  </ResearchProjectDef>

</Defs>