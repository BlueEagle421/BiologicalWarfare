<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <BiologicalWarfare.CombatDiseaseDef ParentName="USH_CombatDiseaseBase">
    <defName>USH_Infection</defName>
    <label>infection</label>
    <hediffDef>WoundInfection</hediffDef>
    <diseaseType>Bacteria</diseaseType>
    <colorInt>(204, 204, 89, 255)</colorInt>

    <!-- formats {0} to label and {1} to disease type -->
    <!-- also sets color in graphicData -->
    <thingDefsToFormatAndColor>
      <li>USH_InfectionSample</li>
      <li>USH_InfectionPathogen</li>
      <li>USH_InfectionFilth</li>
      <li>USH_InfectionVaccine</li>
    </thingDefsToFormatAndColor>

    <researchProjectsDefsToFormat>
      <li>USH_InfectionOperationRes</li>
      <li>USH_InfectionVaccineRes</li>
    </researchProjectsDefsToFormat>

    <hediffDefsToFormat>
      <li>USH_InfectionVaccineHediff</li>
    </hediffDefsToFormat>

    <vaccineResProjectDef>USH_InfectionVaccineRes</vaccineResProjectDef>

    <!-- sample def is required for CombatDiseaseDef to work properly -->
    <sampleDef>USH_InfectionSample</sampleDef>
    <!-- pathogen def is optional -->
    <pathogenDef>USH_InfectionPathogen</pathogenDef>
    <!-- filth def is optional -->
    <filthDef>USH_InfectionFilth</filthDef>

  </BiologicalWarfare.CombatDiseaseDef>

  <ThingDef ParentName="USH_BacteriaSampleBase">
    <defName>USH_InfectionSample</defName>
    <comps>
      <li Class="BiologicalWarfare.CompProperties_DiseaseSample">
        <combatDiseaseDef>USH_Infection</combatDiseaseDef>
      </li>
    </comps>
    <costList>
      <USH_InfectionPathogen>1</USH_InfectionPathogen>
    </costList>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_InfectionOperationRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <ThingDef ParentName="USH_BacteriaPathogenBase">
    <defName>USH_InfectionPathogen</defName>
  </ThingDef>

  <ThingDef ParentName="USH_PathogenFilthBase">
    <defName>USH_InfectionFilth</defName>
    <modExtensions>
      <li Class="OPToxic.OPToxicDefs">
        <OPToxicHediff>WoundInfection</OPToxicHediff>
        <OPToxicSeverity>0.02</OPToxicSeverity>
        <OPSevUpTickPeriod>60</OPSevUpTickPeriod>
      </li>
    </modExtensions>
  </ThingDef>

  <ThingDef ParentName="USH_DiseaseVaccineBase">
    <defName>USH_InfectionVaccine</defName>
    <description>A syringe contaning a carefully prepared mixture of antigens.\n\nNote that it doesn't protect from pathogen gas or contamination.\n\nDue to the diverse range of bacteria within the infection family, antigens are not as effective as in other diseases. It provides full immunity for only 8 days.</description>
    <comps>
      <li Class="BiologicalWarfare.CompProperties_TargetEffectVaccine">
        <jobDef>USH_InjectVaccine</jobDef>
        <hediffDefVaccine>USH_InfectionVaccineHediff</hediffDefVaccine>
      </li>
    </comps>
    <costList>
      <USH_InfectionPathogen>25</USH_InfectionPathogen>
    </costList>
    <recipeMaker>
      <researchPrerequisites>
        <li>USH_InfectionVaccineRes</li>
      </researchPrerequisites>
    </recipeMaker>
  </ThingDef>

  <HediffDef>
    <hediffClass>HediffWithComps</hediffClass>
    <defName>USH_InfectionVaccineHediff</defName>
    <label>{0} immunity</label>
    <labelNoun>a {0} immunity</labelNoun>
    <description>{0} antigens in the bloodstream. Comes from {0} vaccine.</description>
    <initialSeverity>1</initialSeverity>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>480000</disappearsAfterTicks> <!-- 8 days-->
        <showRemainingTime>true</showRemainingTime>
      </li>
    </comps>
    <stages>
      <li>
        <makeImmuneTo>
          <li>WoundInfection</li>
        </makeImmuneTo>
      </li>
    </stages>
  </HediffDef>

  <ResearchProjectDef ParentName="USH_DiseaseOprationResBase">
    <defName>USH_InfectionOperationRes</defName>
    <description>Sample {0} {1} and craft {0} pythogens to develop powerful vaccines. Note that no weapons can be crafted from {0} pathogens.</description>
    <researchViewX>1.50</researchViewX>
    <researchViewY>3.40</researchViewY>
  </ResearchProjectDef>

  <ResearchProjectDef ParentName="USH_DiseaseVaccineResBase">
    <defName>USH_InfectionVaccineRes</defName>
    <prerequisites>
      <li>USH_InfectionOperationRes</li>
    </prerequisites>
    <baseCost>2600</baseCost>
    <researchViewX>2.50</researchViewX>
    <researchViewY>3.40</researchViewY>
  </ResearchProjectDef>

</Defs>